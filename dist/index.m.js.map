{"version":3,"file":"index.m.js","sources":["../src/index.ts"],"sourcesContent":["import { isArr, isObj, isDate } from 'x-is-type';\n\nexport type equalityChecker = (...args: any[]) => boolean;\nexport type argsComparer = (a: any, b: any) => boolean;\nexport type argsValidator = equalityChecker;\n\nfunction createEqualityChecker(\n\tvalidateArgsFn: argsValidator | null = null,\n\targsComparerFn: argsComparer | null = null\n) {\n\treturn function (...args: any[]): boolean {\n\t\tif (args.length < 2) return true;\n\t\tif (typeof validateArgsFn === 'function' && !validateArgsFn(...args)) {\n\t\t\treturn false;\n\t\t}\n\t\tconst comparer =\n\t\t\ttypeof argsComparerFn === 'function'\n\t\t\t\t? argsComparerFn\n\t\t\t\t: (a: any, b: any) => a === b;\n\t\tfor (let i = 1; i < args.length; i++) {\n\t\t\tconst a = args[i - 1],\n\t\t\t\tb = args[i];\n\t\t\tif (comparer(a, b)) continue;\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n}\n\nconst isEqualConstructor = createEqualityChecker(\n\tnull,\n\t(a, b) => a?.constructor?.name === b?.constructor?.name\n);\n\nconst isEqualDate = createEqualityChecker(\n\tisDate,\n\t(a, b) => Number(a) === Number(b)\n);\n\n/**\n * Determine if multiple arrays contain equal values recursively\n */\nfunction isEqualArr(...args: any[]): boolean {\n\treturn createEqualityChecker(isArr, (a: any[], b: any[]) => {\n\t\tif (a.length !== b.length) return false;\n\t\tfor (let i = 0; i < a.length; i++) {\n\t\t\tif (a[i] === b[i]) continue;\n\t\t\tif (isEqualArr(a[i], b[i])) continue;\n\t\t\tif (isEqualObj(a[i], b[i])) continue;\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t})(...args);\n}\n/**\n * Determine if multiple objects contain equal values recursively\n */\nfunction isEqualObj(...args: any[]): boolean {\n\treturn createEqualityChecker(\n\t\t(...args) => isObj(...args) && isEqualConstructor(...args),\n\t\t(a: Object, b: Object) => {\n\t\t\tconst keys = { a: Object.keys(a), b: Object.keys(b) };\n\t\t\tif (keys.a.length !== keys.b.length) return false;\n\t\t\tfor (const key of keys.a) {\n\t\t\t\tif (a[key] === b[key]) continue;\n\t\t\t\tif (isEqualArr(a[key], b[key])) continue;\n\t\t\t\tif (isEqualObj(a[key], b[key])) continue;\n\t\t\t\tif (isEqualDate(a[key], b[key])) continue;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t)(...args);\n}\n\n/**\n * Determine if multiple values are equal,\n * works recursively on arrays and objects.\n */\nfunction isEqual(...args: any[]): boolean {\n\treturn createEqualityChecker(\n\t\tnull,\n\t\t(a, b) => a === b || isEqualObj(a, b) || isEqualArr(a, b)\n\t)(...args);\n}\n\nexport { isEqual, isEqualConstructor, isEqualArr, isEqualObj };\n"],"names":["createEqualityChecker","validateArgsFn","argsComparerFn","args","slice","call","arguments","length","apply","comparer","a","b","i","isEqualConstructor","_a$constructor","_b$constructor","constructor","name","isEqualDate","isDate","Number","isEqualArr","isArr","isEqualObj","isObj","keys","Object","_step","_iterator","_createForOfIteratorHelperLoose","done","key","value","isEqual"],"mappings":"+2BAMA,SAASA,EACRC,EACAC,GAEA,YAHAD,IAAAA,IAAAA,EAAuC,WACvCC,IAAAA,IAAAA,EAAsC,MAE/B,WAAaC,IAAAA,EACnB,GAAAC,MAAAC,KAAAC,WAAA,GAAIH,EAAKI,OAAS,EAAG,SACrB,GAA8B,mBAAnBN,IAAkCA,EAAcO,WAAIL,EAAAA,GAC9D,OAAO,EAMR,IAJA,IAAcM,EACa,mBAA1BP,EACGA,EACA,SAACQ,EAAQC,GAAT,OAAqBD,IAAKC,CAA1B,EACKC,EAAI,EAAGA,EAAIT,EAAKI,OAAQK,IAAK,CACrC,IAAMF,EAAIP,EAAKS,EAAI,GAClBD,EAAIR,EAAKS,GACV,IAAIH,EAASC,EAAGC,GAChB,OACA,CAAA,CACD,OAAO,CACP,CACD,CAEKE,IAAkBA,EAAGb,EAC1B,KACA,SAACU,EAAGC,GAAM,IAAAG,EAAAC,EAAA,OAAC,MAADL,GAAA,SAAAA,EAAGM,oBAAHF,EAAgBG,SAASN,MAAAA,GAAA,OAAAA,EAAAA,EAAGK,kBAAHL,EAAAI,EAAgBE,KAAnD,GAGKC,EAAclB,EACnBmB,EACA,SAACT,EAAGC,GAAMS,OAAAA,OAAOV,KAAOU,OAAOT,EAA/B,GAMD,SAAAU,IACC,OAA4BrB,EAACsB,EAAO,SAACZ,EAAUC,GAC9C,GAAID,EAAEH,SAAWI,EAAEJ,OAAQ,OAAO,EAClC,IAAK,IAAIK,EAAI,EAAGA,EAAIF,EAAEH,OAAQK,IAC7B,GAAIF,EAAEE,KAAOD,EAAEC,KACXS,EAAWX,EAAEE,GAAID,EAAEC,MACnBW,EAAWb,EAAEE,GAAID,EAAEC,IACvB,OACA,EACD,OACA,CAAA,GATMJ,WAAA,EAAA,GAAAJ,MAAAC,KAAAC,WAUP,CAID,SAAAiB,IACC,OAA4BvB,EAC3B,WAAIG,IAAAA,kCAAcqB,EAAAhB,WAAIL,EAAAA,IAASU,aAAsBV,EAAAA,EAArD,EACA,SAACO,EAAWC,GACX,IAAMc,EAAO,CAAEf,EAAGgB,OAAOD,KAAKf,GAAIC,EAAGe,OAAOD,KAAKd,IACjD,GAAIc,EAAKf,EAAEH,SAAWkB,EAAKd,EAAEJ,OAAQ,OAAO,EAC5C,IAAA,IAA0BoB,EAA1BC,EAAAC,EAAkBJ,EAAKf,KAAGiB,EAAAC,KAAAE,MAAA,CAAA,IAAAC,EAAAJ,EAAAK,MACzB,GAAItB,EAAEqB,KAASpB,EAAEoB,KACbV,EAAWX,EAAEqB,GAAMpB,EAAEoB,MACrBR,EAAWb,EAAEqB,GAAMpB,EAAEoB,MACrBb,EAAYR,EAAEqB,GAAMpB,EAAEoB,IAC1B,QACA,CACD,OACA,CAAA,GAbKvB,WAAA,EAAA,GAAAJ,MAAAC,KAAAC,WAeP,CAMD,SAAS2B,IACR,OAAOjC,EACN,KACA,SAACU,EAAGC,GAAJ,WAAgBA,GAAKY,EAAWb,EAAGC,IAAMU,EAAWX,EAAGC,EAAvD,GAFMH,WAAA,EAAA,GAAAJ,MAAAC,KAAAC,WAIP"}